<!DOCTYPE html>
<html>
    <head>
        <title data-th-text="${topic.title}"></title>
        <meta charset="UTF-8"/>
        <link href="/webjars/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
        <script src="/webjars/jquery/3.0.0/jquery.min.js"></script>
        <script src="/webjars/popper.js/1.14.3/popper.min.js"></script>
        <script src="/webjars/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    </head>
    <body>

        <div class="container">
            <h1>Topic</h1>
            <table>
                <tr>
                    <td>Id:</td>
                    <td data-th-text="${topic.id}"></td>
                </tr>
                <tr>
                    <td>Author:</td>
                    <td data-th-text="${topic.author}"></td>
                </tr>
                <tr>
                    <td>Name:</td>
                    <td data-th-text="${topic.title}"></td>
                </tr>           
            </table>
            <h1>Messages in this topic</h1>
            <div data-th-if="${topic.messages.empty}">
                Nincsenek üzenetek!
            </div>
            <table data-th-if="${!topic.messages.empty}" class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Üzenet</th>
                        <th>Küldő</th>
                        <th>Dátum</th>
                    </tr>
                </thead>
                <tr data-th-each="message: ${topic.messages}" data-th-classappend="${message.deleted ? 'bg-danger' : ''}">
                    <td><a data-th-href="@{'/message/'+${message.id}}" data-th-text="${message.id}"></a></td>
                    <td data-th-text="${message.text}"></td>
                    <td data-th-text="${message.author}"></td>
                    <td data-th-text="${{message.creationDate}}"></td>
                </tr>
            </table>
        </div>
    </body>
</html>
